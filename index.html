<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">

</head>

<body>
    <h1 class="header">Choose Your Weapon!</h1>
<div class="allButtons">
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
    </div>

<div class="gameDetails">
    <div class="resultMessage">Current Result:</div>
    <p class="gamesPlayed">Games Played:</p>
    <div class="scores">
        <div class="playerScore">Player Score: 0</div>
        <div class="computerScore">Computer Score: 0</div>
    </div>
</div>

<div class="rulesContainer">
    <h3 class="rulesHeader">Da Rules</h3>
    <p class="gameRules">Classic game of "Rock, Paper, Scissors". The game is simple, press any of the buttons to 
                            select that "weapon" against the computer. Look at the score and choose wisely for the next round. 
                            The first player to 5 wins the game. Dont forget, rock beats scissors, scissors beats paper and paper
                             beat rock. Do you have what it takes to beat the machine?
    </p>
</div>

<div class="footer">
    RPS Developed by Miguel Gil
</div>
    


    <script>
        const resultMessage= document.querySelector('.resultMessage');
        const gamesPlayed= document.querySelector(".gamesPlayed")
        const allButtons= document.querySelectorAll("button")
        const gameOver= document.createElement("p")
        const humanScore= document.querySelector(".playerScore");
        const machineScore= document.querySelector(".computerScore")
        

        console.log(allButtons)
        allButtons.forEach((button) => {
            button.addEventListener('click', () => {
                let y= computerPlay();
                oneRound(button.textContent, y) 
                counter++
                gamesPlayed.textContent= `Games Played: ${counter}`;
                console.log(`you have played ${counter} game(s)`);
                switch (true){
                    case (button.textContent == "Rock" && y == "Scissors"):
                    case (button.textContent == "Paper" && y == "Rock"):
                    case (button.textContent == "Scissors" && y == "Paper"):  
                            playerScore++;
                            humanScore.textContent=(`Player Score: ${playerScore}`);
                            machineScore.textContent=(`computer Score: ${computerScore}`);
                            break;
                    case (y== "Rock" && button.textContent == "Scissors"): 
                    case (y == "Paper" && button.textContent == "Rock"): 
                    case (y == "Scissors" && button.textContent == "Paper"): 
                            computerScore++;
                            humanScore.textContent=(`Player Score: ${playerScore}`);
                            machineScore.textContent=(`computer Score: ${computerScore}`);
                            break;
                    case (button.textContent== y):
                            humanScore.textContent=(`Player Score: ${playerScore}`);
                            machineScore.textContent=(`computer Score: ${computerScore}`);
                            break;
                            default:
                            console.log("something is not right here");
                            console.log(` Make sure your spelling is correct, 
                                    You typed: ${button.textContent}`);
                            console.log(y)
                    } 
                if(playerScore==5 || computerScore==5){
                    whoWins();
                }      
            })
        })

        

        

        
        

        //Global Variables
            let playerScore= 0;
            let computerScore=0;
            let counter=0;
            
        // function expression stored in variable whoWins to give winner message when depending on score. (called in Game())
            let whoWins= function(){
            if(playerScore > computerScore){
                gameOver.classList.add("win")
                gameOver.textContent=(`Humans for the win! You won ${playerScore} - ${computerScore}!`);
                } else if (playerScore < computerScore){
                gameOver.classList.add("lose")
                gameOver.textContent=(`GameOver.. The Machine Wins ${computerScore} - ${playerScore}!`);
                } 
                resultMessage.appendChild(gameOver)
                
            }  
           
        //anonymous function created to make a random selection for computer selection.
        let computerPlay =  function (){   
        let computerOptions= ["Rock", "Paper", "scissors"];
        let computerRandom= Math.floor(Math.random() * computerOptions.length);
            switch(computerRandom) {
                case 0:
                    return ("Rock");
                    break;

                case 1:
                    return ("Paper");
                    break;

                case 2:
                    return ("Scissors");
                    break;
                    default:
                        "something went wrong";
            }
        }
        //Function created to play one game of RPS with given parameters and advise the winner
        function oneRound(playerSelection, computerSelection) { 
            if (playerSelection ==  computerSelection){
                resultMessage.textContent="Current Result: You tied, score stays the same!";
            } else if (playerSelection== "Rock" && computerSelection== "Paper"){
                resultMessage.textContent=("Current Result: You lose, Paper beats Rock");
            } else if (playerSelection =="Rock" && computerSelection== "Scissors"){
                resultMessage.textContent=("Current Result: You Win!, Rock beats Scissors!");
            }else if (playerSelection== "Paper" && computerSelection== "Scissors"){
                resultMessage.textContent=("Current Result: You lose, Scissors beats Paper");
            } else if (playerSelection =="Paper" && computerSelection== "Rock"){
                resultMessage.textContent=("Current Result: You Win!, Paper beats Rock!");
            } else if (playerSelection== "Scissors" && computerSelection== "Rock"){
                resultMessage.textContent=("Current Result: You lose, Rock beats Scissors");
            } else if (playerSelection =="Scissors" && computerSelection== "Paper") {
                resultMessage.textContent=("Current Result: You Win!, Scissors beat Paper!");
            } else {
                resultMessage.textContent=("Something Went Wrong");
            }
            
            }
    </script>
</body>
</html>